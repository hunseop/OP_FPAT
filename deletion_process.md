# 방화벽 정책 정리 프로세스
## 1. 프로세스 단계별 구성
### Phase 1: 초기 설정
1. **방화벽 접속 설정**
   - Vendor 선택 (팔로알토/시큐아이)
   - Primary IP 입력
   - Secondary IP 입력 (선택)
   - 계정 정보 입력 (ID/PW)
   - 연결 테스트 및 결과 확인

### Phase 2: 데이터 수집
2. **방화벽 데이터 추출**
   - 방화벽 정책 추출
   - 방화벽 사용이력 추출
   - 방화벽 중복 정책 추출

### Phase 3: 정보 파싱
3. **신청정보 파싱**
   - 정책 파일 Description 파싱
   - 중복정책 파일 Description 파싱
   - 신청번호 추출

### Phase 4: 추가 데이터
4. **외부 데이터 준비**
   - 신청정보 파일 준비 (사용자 수동)
   - MIS ID 파일 준비 (사용자 수동)
   - 데이터 유효성 검사

### Phase 5: 데이터 통합
5. **정보 통합 및 처리**
   - MIS ID 정보 추가
   - 신청정보 통합
   - Vendor별 예외처리
   - 중복정책 분류
   - 각 단계별 결과 확인
   - 중간 결과 수정 및 재처리
   - 사용이력 정보 추가
   - 중복여부 정보 추가

### Phase 6: 결과 생성
6. **최종 처리 및 결과**
   - 공지파일 분류
   - 최종 결과 파일 생성
   - 최종 검증 및 수정

## 2. 중간 검증 및 수정 기능

### 2.1 단계별 검증 포인트
```
각 단계 완료 시:
[미리보기] - [검증] - [수정] - [재처리]
```

### 2.2 데이터 수정 기능
```python
# 각 단계별 수정 옵션
1. 파일 직접 수정
2. 웹 인터페이스에서 수정
3. 수정 이력 관리
4. 수정 전/후 비교
```

### 2.3 재처리 옵션
```python
# 재처리 시나리오
1. 현재 단계만 재처리
2. 현재 단계부터 끝까지 재처리
3. 특정 단계만 선택적 재처리
```

## 3. GUI 수정사항

### 3.1 레이아웃 추가
```
[기존 레이아웃]
+ 검증 결과 표시 영역
+ 데이터 수정 인터페이스
+ 재처리 컨트롤
```

### 3.2 단계별 제어
```python
# 각 단계별 컨트롤
[실행] [중지] [검증] [수정] [재처리]
```

### 3.3 데이터 그리드
```python
# 데이터 수정 인터페이스
- 필터링 기능
- 정렬 기능
- 일괄 수정 기능
- 변경 사항 추적
```

## 4. 데이터 검증 항목

### 4.1 정책 파일 검증
- 필수 컬럼 존재 여부
- 데이터 형식 검증
- 값 범위 검증
- 논리적 정합성 검증

### 4.2 파싱 결과 검증
- 신청번호 형식 검증
- 날짜 형식 검증
- 필수 정보 누락 확인
- 예외 케이스 식별

### 4.3 통합 데이터 검증
- 데이터 매핑 정확성
- 중복 데이터 확인
- 불일치 데이터 식별
- 예외처리 정확성 검증

## 5. 오류 처리 및 복구

### 5.1 오류 발생 시 대응
```python
# 오류 처리 프로세스
1. 오류 감지 및 로깅
2. 사용자에게 알림
3. 수정 방법 제시
4. 복구 옵션 제공
```

### 5.2 데이터 백업
```python
# 백업 정책
1. 각 단계별 결과 자동 저장
2. 수정 전 데이터 백업
3. 복구 포인트 생성
```

### 5.3 작업 재개
```python
# 작업 재개 옵션
1. 마지막 성공 지점부터 재개
2. 선택한 지점부터 재개
3. 처음부터 재시작
```